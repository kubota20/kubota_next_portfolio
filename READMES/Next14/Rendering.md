# App Router で使われるレンダリング

Next.js の`App Router(Pages Router)`には４つのレンダリングの実装方法があります。

- Client-Side Rendering (CSR)
- Server-Side Rendering (SSR)
- Static-Site Generation (SSG)
- Incremental Static Regeneration (ISR)

## 使い分け

- クライアント側: CSR

【クライアント側】でレンダリングする
=>ロード開始時は何も表示されない

- サーバー側: SSR、SSG、ISR

【サーバー側】でレンダリングする
=>ロード開始時から表示される

## CSR、SSR、SSG、ISR 特徴

### Client-Side Rendering (CSR)

【メリット】

- 画面遷移が高速
- サーバーの負荷が軽い

【デメリット】

- 初回ローディングに時間がかかる
- クライアント側の負荷が高い
- SEO 的な問題あり（最近は解決しつつある）

【適しているユースケース】

- チャット
- 管理画面

### Server-Side Rendering (SSR)

【ユーザーからのアクセス時】に都度レンダリングする

【メリット】

- CSR よりも初回ロードに時間がかからない
- クライアントの負荷が軽い
- 常に最新のデータを取得できる

【デメリット】

- 画面遷移が遅い
- サーバー側の負荷が高い

【適しているユースケース】

データが頻繁に更新される
比較的大規模サービス向け

- SNS
- 動画投稿サービス

### Static-Site Generation (SSG)

【ビルド時】にまとめてレンダリングする

【メリット】

- CSR、SSR よりも初回ロードに時間がかからない
- SSR よりも画面遷移に時間がかからない
- SEO に有利

【デメリット】

- コンテンツが更新された場合、再ビルドしないと反映されない
- コンテンツが多くなるとビルド時間が長くなる

【適しているユースケース】

更新頻度が低い、SEO 対策を行いたい
比較的中規模サービス向け

- ブログ記事
- コーポレートサイト

### Incremental Static Regeneration (ISR)

基本的には SSG と同じ
一定期間ごとにデータを再取得・再ビルドする

【メリット】

- SSG のメリットをそのまま継承しつつ、再ビルドせずに更新されたデータを取得できる

【デメリット】

- 常に最新のデータが取得できるわけではない

【適しているユースケース】

常に最新の情報である必要性はないが適度な更新頻度がある

## まとめ

| レンダリング手法 | レンダリングのタイミング       | 初回ロード | ページ遷移速度 | サーバー負荷 | クライアント負荷 | SEO        | データの新鮮さ           | ユースケース               |
| ---------------- | ------------------------------ | ---------- | -------------- | ------------ | ---------------- | ---------- | ------------------------ | -------------------------- |
| CSR              | クライアントサイドレンダリング | 遅い       | 速い           | 低い         | 高い             | 改善中     | インタラクション時に最新 | チャット、管理画面         |
| SSR              | サーバーサイドレンダリング     | 速い       | 遅い           | 高い         | 低い             | 良い       | 常に最新                 | SNS、動画投稿サービス      |
| SSG              | 静的サイト生成                 | 速い       | 速い           | 低い         | 低い             | 優れている | 再ビルドまで古い         | ブログ、コーポレートサイト |
| ISR              | インクリメンタル静的再生成     | 速い       | 速い           | 低い         | 低い             | 優れている | 定期的に更新             | 中〜高トラフィックサイト   |
